# Kong Gateway Environment Variables
# Copy to .env for local development or use in Docker Compose

# =============================================================================
# Gateway Configuration
# =============================================================================
KONG_DATABASE=off
KONG_DECLARATIVE_CONFIG=/kong/kong.yml
KONG_PROXY_LISTEN=0.0.0.0:8080
KONG_ADMIN_LISTEN=0.0.0.0:8001
KONG_LOG_LEVEL=info

# JWT Configuration (MUST match DJANGO_JWT_SIGNING_KEY in all services)
KONG_JWT_SECRET=signing-key-1234

# Proxy Logging
KONG_PROXY_ACCESS_LOG=/dev/stdout
KONG_ADMIN_ACCESS_LOG=/dev/stdout
KONG_PROXY_ERROR_LOG=/dev/stderr
KONG_ADMIN_ERROR_LOG=/dev/stderr

# =============================================================================
# Service Host Configuration
# =============================================================================
# Use 'localhost' when Kong runs directly on host (default)
# Use 'host.docker.internal' when Kong runs in Docker but services run on host
# Use service names (e.g., 'auth-service') when all run in Docker Compose

# Auth Service
AUTH_SERVICE_HOST=localhost
AUTH_SERVICE_PORT=8003

# Workflow API Service (TTS Backend)
WORKFLOW_API_HOST=localhost
WORKFLOW_API_PORT=1001

# Helpdesk Backend Service (HDTS Backend)
HELPDESK_BACKEND_HOST=localhost
HELPDESK_BACKEND_PORT=5001

# Messaging Service (WebSocket + REST)
MESSAGING_SERVICE_HOST=localhost
MESSAGING_SERVICE_PORT=1002

# Notification Service (WebSocket + REST)
NOTIFICATION_SERVICE_HOST=localhost
NOTIFICATION_SERVICE_PORT=1003

# =============================================================================
# Frontend CORS Origins
# =============================================================================
# Workflow Frontend (TTS)
WORKFLOW_FRONTEND_URL=http://localhost:1000

# Helpdesk Frontend (HDTS)
HELPDESK_FRONTEND_URL=http://localhost:5000

# Development Server
VITE_DEV_URL=http://localhost:5173

# =============================================================================
# Environment-Specific Configurations
# =============================================================================

# --- Docker Compose (all services in Docker network) ---
# AUTH_SERVICE_HOST=auth-service
# WORKFLOW_API_HOST=workflow-api
# HELPDESK_BACKEND_HOST=helpdesk-backend
# MESSAGING_SERVICE_HOST=messaging-service
# NOTIFICATION_SERVICE_HOST=notification-service

# --- Local Development (Kong in Docker, services on host) ---
# AUTH_SERVICE_HOST=host.docker.internal
# WORKFLOW_API_HOST=host.docker.internal
# HELPDESK_BACKEND_HOST=host.docker.internal
# MESSAGING_SERVICE_HOST=host.docker.internal
# NOTIFICATION_SERVICE_HOST=host.docker.internal

# --- Production (use actual domain names or IP addresses) ---
# AUTH_SERVICE_HOST=auth.yourdomain.com
# WORKFLOW_API_HOST=api.yourdomain.com
# HELPDESK_BACKEND_HOST=helpdesk.yourdomain.com
# MESSAGING_SERVICE_HOST=messaging.yourdomain.com
# NOTIFICATION_SERVICE_HOST=notifications.yourdomain.com
